(function(){"use strict";var t={2293:function(t,e,n){var i=n(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{ref:"bg",staticClass:"canvas-bg"},[e("div",{staticClass:"player",attrs:{canPlay:String(t.canPlay)},on:{click:t.handlePlayerClick}},[e("i",{staticClass:"play fa fa-play"})])]),e("canvas",{ref:"music",staticClass:"canvas-music"})])},s=[],o={name:"App",data(){return{azusa:null,canPlay:!1,firstPlay:!0,playLock:!1,delayTime:Object.freeze(600)}},mounted(){const t=this.$refs.music,e=this.$refs.bg;this.azusa=new window.Azusa({view:t,subdivisionSize:1024,cutEnd:256}),e.style.backgroundImage=`url(${n(2865)})`,this.azusa.audio.load({src:n(3597),onPrgress:t=>{const e=100*(t.loaded/t.total).toFixed(4);console.log(`--- 已加载 ${t.loaded}(${e}%) 总大小 ${t.total}`),100===e&&(this.canPlay=!0,console.log("音乐文件已加载完成, 可以点击播放..."))}}),this.azusa.audio.setVolume(1),window.addEventListener("resize",this.handleWindowResize)},destroyed(){window.removeEventListener("resize",this.handleWindowResize)},methods:{handleWindowResize(){this.azusa.resize(document.documentElement.clientWidth,document.documentElement.clientHeight)},handlePlayerClick(t){if(this.playLock)return console.log("请勿点击过快");if(!this.canPlay)return console.log("资源还没准备好, 请在加载完毕后播放");this.playLock=!0;const e=t.target;Array.from(e.classList).includes("fa-play")?(this.firstPlay?setTimeout((()=>{this.azusa.audio.play(),this.firstPlay=!1,this.playLock=!1}),this.delayTime):(this.azusa.audio.play(),this.playLock=!1),e.classList.add("fa-pause"),e.classList.remove("fa-play")):(this.azusa.audio.stop(),this.playLock=!1,e.classList.add("fa-play"),e.classList.remove("fa-pause"))}}},r=o,u=n(1001),c=(0,u.Z)(r,a,s,!1,null,null,null),l=c.exports;i.ZP.config.productionTip=!1,new i.ZP({render:t=>t(l)}).$mount("#app")},3597:function(t,e,n){t.exports=n.p+"media/bg.2a7fc193.mp3"},2865:function(t,e,n){t.exports=n.p+"img/bg2.371155e7.jpg"}},e={};function n(i){var a=e[i];if(void 0!==a)return a.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,i,a,s){if(!i){var o=1/0;for(l=0;l<t.length;l++){i=t[l][0],a=t[l][1],s=t[l][2];for(var r=!0,u=0;u<i.length;u++)(!1&s||o>=s)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(r=!1,s<o&&(o=s));if(r){t.splice(l--,1);var c=a();void 0!==c&&(e=c)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[i,a,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p=""}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,s,o=i[0],r=i[1],u=i[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(u)var l=u(n)}for(e&&e(i);c<o.length;c++)s=o[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(l)},i=self["webpackChunkvue_music"]=self["webpackChunkvue_music"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(2293)}));i=n.O(i)})();
//# sourceMappingURL=app.363c82ad.js.map